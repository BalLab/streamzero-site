<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.94.2" /><link rel="canonical" type="text/html" href="/docs/integrations/database_guide/configuration_overview/">
<link rel="alternate" type="application/rss&#43;xml" href="/docs/integrations/database_guide/configuration_overview/index.xml">
<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Configuring Databases | Ferris Labs</title>


  <meta name="description" content="The Database Guide provides an overview of setting up databases and the specifics of each DB type.">
<meta property="og:title" content="Configuring Databases" />
<meta property="og:description" content="The Database Guide provides an overview of setting up databases and the specifics of each DB type." />
<meta property="og:type" content="website" />
<meta property="og:url" content="/docs/integrations/database_guide/configuration_overview/" /><meta property="og:site_name" content="Ferris Labs" />

<meta itemprop="name" content="Configuring Databases">
<meta itemprop="description" content="The Database Guide provides an overview of setting up databases and the specifics of each DB type."><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Configuring Databases"/>
<meta name="twitter:description" content="The Database Guide provides an overview of setting up databases and the specifics of each DB type."/>




<link rel="preload" href="/scss/main.min.73bd3da85b34d8277717ae3d0694ab84bf7cc2483ec0b74b623d1e06b19678a6.css" as="style">
<link href="/scss/main.min.73bd3da85b34d8277717ae3d0694ab84bf7cc2483ec0b74b623d1e06b19678a6.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>







<script async src="https://www.googletagmanager.com/gtag/js?id=G-RZ6L6XFT3Q"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-RZ6L6XFT3Q', { 'anonymize_ip': false });
}
</script>




  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
	<a class="navbar-brand" href="/">
		<span class="navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 2500 750" style="enable-background:new 0 0 2500 750"><style>.st0{fill:#fff}</style><g><g><g><g><path class="st0" d="M827 228.9v53.3h84.6v27.5H827v67.2h-32.5V201.6h127.9v27.3H827z"/><path class="st0" d="M1091.5 349.6v27.3H960.1V201.6H1088v27.3h-95.3v45.5h84.6v26.8h-84.6v48.3H1091.5V349.6z"/><path class="st0" d="M1248.7 376.9l-35.8-51.3c-1.5.2-3.8.2-6.8.2h-39.5v51h-32.5V201.6h72.1c15.2.0 28.4 2.5 39.7 7.5s19.9 12.2 25.9 21.5 9 20.4 9 33.3c0 13.2-3.2 24.5-9.6 34s-15.6 16.6-27.7 21.3l40.3 57.6L1248.7 376.9zm-11.8-138.8c-7.3-6-18.1-9-32.3-9h-38V299h38c14.2.0 24.9-3 32.3-9.1 7.3-6.1 11-14.7 11-25.9S1244.3 244.1 1236.9 238.1z"/><path class="st0" d="M1437.9 376.9l-35.8-51.3c-1.5.2-3.8.2-6.8.2h-39.5v51h-32.5V201.6h72.1c15.2.0 28.4 2.5 39.7 7.5s19.9 12.2 25.9 21.5 9 20.4 9 33.3c0 13.2-3.2 24.5-9.6 34s-15.6 16.6-27.7 21.3l40.3 57.6L1437.9 376.9zM1426.1 238.1c-7.3-6-18.1-9-32.3-9h-38V299h38c14.2.0 24.9-3 32.3-9.1 7.3-6.1 11-14.7 11-25.9S1433.5 244.1 1426.1 238.1z"/><path class="st0" d="M1512.5 201.6h32.5v175.3h-32.5V201.6z"/><path class="st0" d="M1613.7 373.6c-12.6-3.8-22.6-8.9-29.9-15.3l11.3-25.3c7.2 5.7 16 10.3 26.4 13.9 10.4 3.6 20.9 5.4 31.4 5.4 13 0 22.7-2.1 29.2-6.3 6.4-4.2 9.6-9.7 9.6-16.5.0-5-1.8-9.1-5.4-12.4-3.6-3.2-8.1-5.8-13.6-7.6s-13-3.9-22.5-6.3c-13.3-3.2-24.2-6.3-32.4-9.5s-15.3-8.1-21.3-14.9c-6-6.8-8.9-15.9-8.9-27.4.0-9.7 2.6-18.5 7.9-26.4 5.3-7.9 13.2-14.2 23.8-18.9 10.6-4.7 23.6-7 38.9-7 10.7.0 21.2 1.3 31.5 4s19.3 6.5 26.8 11.5l-10.3 25.3c-7.7-4.5-15.7-7.9-24-10.3-8.3-2.3-16.4-3.5-24.3-3.5-12.8.0-22.4 2.2-28.7 6.5s-9.4 10.1-9.4 17.3c0 5 1.8 9.1 5.4 12.3s8.1 5.7 13.6 7.5 13 3.9 22.5 6.3c13 3 23.7 6.1 32 9.4 8.3 3.2 15.5 8.2 21.4 14.9s8.9 15.7 8.9 27c0 9.7-2.6 18.4-7.9 26.3-5.3 7.8-13.2 14.1-23.9 18.8s-23.7 7-39 7C1639.3 379.4 1626.3 377.5 1613.7 373.6z"/><path class="st0" d="M1840.3 201.6h25v153.5h94.8v21.8h-119.9L1840.3 201.6z"/><path class="st0" d="M2107.6 333.1h-93.1l-19.3 43.8h-25.8l79.3-175.3h24.8l79.6 175.3h-26.3L2107.6 333.1zM2098.8 313.1l-37.8-85.9-37.8 85.9H2098.8z"/><path class="st0" d="M2327.3 301.3c5.8 7.4 8.8 16.8 8.8 28.2.0 15.2-5.7 26.9-17.1 35-11.4 8.2-28.1 12.3-49.9 12.3h-83.6V201.6h78.6c20 0 35.5 4 46.4 12s16.4 19.1 16.4 33.3c0 9.2-2.1 17.1-6.4 23.8-4.2 6.7-10 11.8-17.1 15.3C2313.5 288.8 2321.5 293.9 2327.3 301.3zm-116.9-79.4V278h51.3c12.9.0 22.7-2.4 29.7-7.1 6.9-4.8 10.4-11.7 10.4-20.9.0-9.2-3.5-16.1-10.4-20.9s-16.8-7.1-29.7-7.1L2210.4 221.9zM23e2 349.6c7.2-4.7 10.8-12 10.8-22 0-19.5-14.3-29.3-42.8-29.3h-57.6v58.3h57.6C2282.2 356.6 2292.9 354.3 23e2 349.6z"/><path class="st0" d="M2394 372.8c-12.3-4.1-21.9-9.4-28.9-15.9l9.3-19.5c6.7 6 15.2 10.9 25.6 14.6s21.1 5.6 32.2 5.6c14.5.0 25.4-2.5 32.5-7.4 7.2-4.9 10.8-11.5 10.8-19.7.0-6-2-10.9-5.9-14.6-3.9-3.7-8.8-6.6-14.5-8.6s-13.9-4.2-24.4-6.8c-13.2-3.2-23.8-6.3-31.9-9.5s-15-8-20.8-14.6-8.6-15.5-8.6-26.7c0-9.3 2.5-17.8 7.4-25.3s12.4-13.5 22.4-18 22.4-6.8 37.3-6.8c10.3.0 20.5 1.3 30.5 4s18.6 6.5 25.8 11.5l-8.3 20c-7.3-4.7-15.2-8.2-23.5-10.6s-16.5-3.6-24.5-3.6c-14.2.0-24.8 2.6-31.9 7.8-7.1 5.2-10.6 11.8-10.6 20 0 6 2 10.9 6 14.6 4 3.8 9 6.7 14.9 8.8s14 4.3 24.1 6.6c13.2 3.2 23.8 6.3 31.8 9.5s14.9 8 20.6 14.5 8.6 15.3 8.6 26.3c0 9.2-2.5 17.6-7.5 25.2-5 7.6-12.6 13.6-22.8 18-10.2 4.4-22.7 6.6-37.5 6.6C2419 378.9 2406.3 376.9 2394 372.8z"/></g><g><path class="st0" d="M1142.5 532.1h-46.8l-10.1 22.4h-9.2l38.4-84.1h8.8l38.4 84.1h-9.3L1142.5 532.1zM1139.2 524.9l-20.2-45.1-20.2 45.1H1139.2z"/><path class="st0" d="M1181.8 470.6h8.9V547h47v7.7h-55.9V470.6z"/><path class="st0" d="M1258.4 470.6h8.9V547h47v7.7h-55.9V470.6z"/><path class="st0" d="M1372.5 470.6h34.2c8.9.0 16.7 1.8 23.5 5.3s12.1 8.5 15.8 14.9c3.8 6.4 5.6 13.6 5.6 21.8.0 8.2-1.9 15.4-5.6 21.8-3.8 6.4-9 11.3-15.8 14.9s-14.6 5.3-23.5 5.3h-34.2V470.6zm33.7 76.3c7.4.0 13.8-1.5 19.3-4.4s9.8-7 12.8-12.1c3-5.2 4.6-11.1 4.6-17.8.0-6.7-1.5-12.7-4.6-17.8s-7.3-9.2-12.8-12.1-11.9-4.4-19.3-4.4h-24.8V547h24.8z"/><path class="st0" d="M1529 532.1h-46.8l-10.1 22.4h-9.2l38.4-84.1h8.8l38.4 84.1h-9.3L1529 532.1zM1525.8 524.9l-20.2-45.1-20.2 45.1H1525.8z"/><path class="st0" d="M1580.5 478.3H1551v-7.7h67.9v7.7h-29.5v76.4h-8.9V478.3z"/><path class="st0" d="M1687.4 532.1h-46.8l-10.1 22.4h-9.2l38.4-84.1h8.8l38.4 84.1h-9.3L1687.4 532.1zM1684.2 524.9l-20.2-45.1-20.2 45.1H1684.2z"/><path class="st0" d="M1834.4 470.6v84.1h-7.3l-54-68.2v68.2h-8.9v-84.1h7.3l54.1 68.2v-68.2L1834.4 470.6z"/><path class="st0" d="M1927.1 546.9v7.7h-59.4v-84.1h57.6v7.7h-48.7v29.9h43.4v7.6h-43.4V547L1927.1 546.9z"/><path class="st0" d="M2013.3 546.9v7.7h-59.4v-84.1h57.6v7.7h-48.7v29.9h43.4v7.6h-43.4V547L2013.3 546.9z"/><path class="st0" d="M2040.2 470.6h34.2c8.9.0 16.7 1.8 23.5 5.3 6.8 3.6 12.1 8.5 15.8 14.9 3.8 6.4 5.6 13.6 5.6 21.8.0 8.2-1.9 15.4-5.6 21.8-3.8 6.4-9 11.3-15.8 14.9s-14.6 5.3-23.5 5.3h-34.2V470.6zm33.7 76.3c7.4.0 13.8-1.5 19.3-4.4s9.8-7 12.8-12.1c3-5.2 4.6-11.1 4.6-17.8.0-6.7-1.5-12.7-4.6-17.8s-7.3-9.2-12.8-12.1-11.9-4.4-19.3-4.4H2049V547H2073.9z"/><path class="st0" d="M2150.4 552.3c-5.7-2-10.1-4.6-13.2-7.9l3.5-6.8c3 3 7.1 5.5 12.1 7.4s10.2 2.8 15.6 2.8c7.5.0 13.1-1.4 16.9-4.1s5.6-6.3 5.6-10.7c0-3.4-1-6-3.1-8s-4.5-3.5-7.5-4.6-7.1-2.3-12.4-3.5c-6.3-1.6-11.4-3.1-15.1-4.6-3.8-1.5-7-3.7-9.7-6.8-2.7-3-4-7.2-4-12.3.0-4.2 1.1-8.1 3.4-11.6 2.2-3.5 5.7-6.3 10.3-8.3 4.6-2.1 10.4-3.1 17.3-3.1 4.8.0 9.5.7 14.1 2s8.6 3.1 11.9 5.5l-3 7.1c-3.5-2.3-7.3-4.1-11.3-5.2-4-1.2-7.9-1.7-11.8-1.7-7.4.0-12.9 1.4-16.6 4.3-3.7 2.8-5.6 6.5-5.6 11 0 3.4 1 6.1 3.1 8.1s4.6 3.6 7.7 4.7c3.1 1.1 7.2 2.3 12.4 3.5 6.2 1.5 11.1 3 14.9 4.5s7 3.7 9.6 6.7 4 7.1 4 12.2c0 4.2-1.1 8.1-3.4 11.6s-5.8 6.2-10.5 8.3c-4.7 2-10.5 3.1-17.4 3.1C2162.1 555.2 2156.2 554.2 2150.4 552.3z"/></g></g></g><g><polygon class="st0" points="9.7,309.9 254,450.8 254.1,591.6 292.3,613.5 292.1,428.7 38.2,282.3 38.2,209.9 186,124.2 323,203.2 361.1,181.1 224.1,102 324.3,44 461.2,123 499.3,101 324.3,0 0,187.8 0.1,304.5"/><polygon class="st0" points="425.4,398.4 547.2,327.9 547.1,283.8 387.3,376.4 387.6,669.5 324.8,705.9 176.8,620.6 176.6,462.5 138.5,440.4 138.6,598.7 38.3,540.8 38.2,382.6 0.1,360.6 0.2,562.9 324.8,750 425.8,691.6 425.7,680.5"/><polygon class="st0" points="649,187.3 547.8,129.1 538.3,134.6 294.4,276 172.5,205.8 134.4,227.8 294.4,320.1 548,173.2 610.8,209.4 611,380.4 474.2,459.6 474.1,503.6 611.1,424.4 611.2,540.3 474.4,619.5 474.4,663.5 649.3,562.2"/></g></g></svg></span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
				
				
				
				
				
				
				
					<li class="nav-item mr-2 mb-2 mb-lg-0">
						<a class="nav-link" href="/product/" ><span>PRODUCT</span></a>
					</li>
				
			
				
				
				
				
				
				
				
					<li class="nav-item mr-2 mb-2 mb-lg-0">
						<a class="nav-link" href="/integrations/" ><span>INTEGRATIONS</span></a>
					</li>
				
			
				
				
				
				
				
				
				
					<li class="nav-item mr-2 mb-2 mb-lg-0">
						<a class="nav-link" href="/solutions/" ><span>CASE STUDIES</span></a>
					</li>
				
			
				
				
				
				
				
				
				
					<li class="nav-item mr-2 mb-2 mb-lg-0">
						<a class="nav-link" href="/features/" ><span>FEATURES</span></a>
					</li>
				
			
				
				
				
				
				
				
				
					<li class="nav-item mr-2 mb-2 mb-lg-0">
						<a class="nav-link" href="/about/" ><span>ABOUT</span></a>
					</li>
				
			
				
				
				
				
				
				
				
				
				
					<li class="nav-item mr-2 mb-2 mb-lg-0">
						<a class="nav-link active" href="/docs/" ><span class="active">DOCS</span></a>
					</li>
				
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
<input type="search" class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete="off">

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/docs/integrations/database_guide/configuration_overview/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Configuring Databases</h1>
<div class="lead">The Database Guide provides an overview of setting up databases and the specifics of each DB type.</div>




    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-5b8c38af0d76bf62300bb243b39d7200">Adding New Drivers in Docker</a></li>


    
  
    
    
	
<li>2: <a href="#pg-3d574cf8f4935c211c8fef24a686e650">Extra Database Settings</a></li>


    
  
    
    
	
<li>3: <a href="#pg-63091ffb56fa2cbee17246ce3ec385f3">Installing Database Drivers</a></li>


    
  
    
    
	
<li>4: <a href="#pg-24a54ac44c59d7d6190abb9b6492ac2c">Using Database Connection UI</a></li>


    
  

    </ul>


<div class="content">
      
</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-5b8c38af0d76bf62300bb243b39d7200">1 - Adding New Drivers in Docker</h1>
    
	<h2 id="adding-new-database-drivers-in-docker">Adding New Database Drivers in Docker</h2>
<p>Ferris requires a Python database driver to be installed within the Executor Image for each additional type of database you
want to connect to.</p>
<p>In this section, we&rsquo;ll walk through how to install the MySQL connector library. The connector
library installation process is the same for all additional libraries and we&rsquo;ll end this section
with the recommended connector library for each database.</p>
<h3 id="1-determine-the-driver-you-need">1. Determine the driver you need</h3>
<p>To figure out how to install the <a href="/docs/databases/installing-database-drivers">database driver</a> of your choice.</p>
<p>In the example, we&rsquo;ll walk through the process of installing a MySQL driver in Ferris Executor.</p>
<h3 id="2-install-mysql-driver">2. Install MySQL Driver</h3>
<p>As we are currently running inside of a Docker container via <code>docker compose</code>, we cannot simply run
<code>pip install mysqlclient</code> on our local shell and expect the drivers to be installed within the
Docker containers for Ferris.</p>
<p>In order to address this, the Ferris <code>docker compose</code> setup comes with a mechanism for you to
install packages locally, which will be ignored by Git for the purposes of local development. Please
follow these steps:</p>
<p>Create <code>requirements-local.txt</code></p>
<pre tabindex="0"><code># From the repo root...
touch ./docker/requirements-local.txt
</code></pre><p>Add the driver selected in step above:</p>
<pre tabindex="0"><code>echo &#34;mysqlclient&#34; &gt;&gt; ./docker/requirements-local.txt
</code></pre><p>Rebuild your local image with the new driver baked in:</p>
<pre tabindex="0"><code>docker-compose build --force-rm
</code></pre><p>After the rebuild of the Docker images is complete (which make take a few minutes) you can relaunch using the following command:</p>
<pre tabindex="0"><code>docker-compose up
</code></pre><p>The other option is to start Feris via Docker Compose is using the recipe in <code>docker-compose-non-dev.yml</code>, which will use pre-built frontend assets and skip the building of front-end assets:</p>
<pre tabindex="0"><code>docker-compose -f docker-compose-non-dev.yml pull
docker-compose -f docker-compose-non-dev.yml up
</code></pre><h3 id="3-connect-to-mysql">3. Connect to MySQL</h3>
<p>Now that you&rsquo;ve got a MySQL driver installed locally, you should be able to test it out.</p>
<p>We can now create a Datasource in Feris that can be used to connect to a MySQL instance. Assuming
your MySQL instance is running locally and can be accessed via localhost, use the following
connection string in “SQL Alchemy URI”, by going to Sources &gt; Databases &gt; + icon (to add a new
datasource) in Feris.</p>
<p>For Docker running in Linux:</p>
<pre tabindex="0"><code>mysql://mysqluser:mysqluserpassword@localhost/example?charset=utf8
</code></pre><p>For Docker running in OSX:</p>
<pre tabindex="0"><code>mysql://mysqluser:mysqluserpassword@docker.for.mac.host.internal/example?charset=utf8
</code></pre><p>Then click “Test Connection”, which should give you an “OK” message. If not, please look at your
terminal for error messages, and reach out for help.</p>
<p>You can repeat this process for every database you want Feris to be able to connect to.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-3d574cf8f4935c211c8fef24a686e650">2 - Extra Database Settings</h1>
    
	<h2 id="extra-database-settings">Extra Database Settings</h2>
<h3 id="deeper-sqlalchemy-integration">Deeper SQLAlchemy Integration</h3>
<p>It is possible to tweak the database connection information using the parameters exposed by
SQLAlchemy. In the <strong>Database edit</strong> view, you can edit the <strong>Extra</strong> field as a JSON blob.</p>
<p>This JSON string contains extra configuration elements. The <code>engine_params</code> object gets unpacked
into the <code>sqlalchemy.create_engine</code> call, while the <code>metadata_params</code> get unpacked into the
<code>sqlalchemy.MetaData</code> call. Refer to the SQLAlchemy docs for more information.</p>
<h3 id="schemas">Schemas</h3>
<p>Databases like Postgres and Redshift use the <strong>schema</strong> as the logical entity on top of the
<strong>database</strong>. For Feris to connect to a specific schema, you can set the <strong>schema</strong> parameter in
the <strong>Edit Tables</strong> form (Sources &gt; Tables &gt; Edit record).</p>
<h3 id="external-password-store-for-sqlalchemy-connections">External Password Store for SQLAlchemy Connections</h3>
<p>Feris can be configured to use an external store for database passwords. This is useful if you a
running a custom secret distribution framework and do not wish to store secrets in Feris’s meta
database.</p>
<p>Example: Write a function that takes a single argument of type <code>sqla.engine.url</code> and returns the
password for the given connection string. Then set <code>SQLALCHEMY_CUSTOM_PASSWORD_STORE</code> in your config
file to point to that function.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">example_lookup_password</span>(url):
</span></span><span style="display:flex;"><span>    secret <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;&lt;</span>get password <span style="color:#f92672">from</span> external framework<span style="color:#f92672">&gt;&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;secret&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>SQLALCHEMY_CUSTOM_PASSWORD_STORE <span style="color:#f92672">=</span> example_lookup_password
</span></span></code></pre></td></tr></table>
</div>
</div><p>A common pattern is to use environment variables to make secrets available.
<code>SQLALCHEMY_CUSTOM_PASSWORD_STORE</code> can also be used for that purpose.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">example_password_as_env_var</span>(url):
</span></span><span style="display:flex;"><span><span style="color:#75715e"># assuming the uri looks like</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># mysql://localhost?Feris_user:{Feris_PASSWORD}</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> url<span style="color:#f92672">.</span>password<span style="color:#f92672">.</span>format(os<span style="color:#f92672">.</span>environ)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>SQLALCHEMY_CUSTOM_PASSWORD_STORE <span style="color:#f92672">=</span> example_password_as_env_var
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ssl-access-to-databases">SSL Access to Databases</h3>
<p>You can use the <code>Extra</code> field in the <strong>Edit Databases</strong> form to configure SSL:</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-JSON" data-lang="JSON"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;metadata_params&#34;</span>: {},
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;engine_params&#34;</span>: {
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;connect_args&#34;</span>:{
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;sslmode&#34;</span>:<span style="color:#e6db74">&#34;require&#34;</span>,
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;sslrootcert&#34;</span>: <span style="color:#e6db74">&#34;/path/to/my/pem&#34;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>     }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-63091ffb56fa2cbee17246ce3ec385f3">3 - Installing Database Drivers</h1>
    
	<h2 id="install-database-drivers">Install Database Drivers</h2>
<p>Feris requires a Python DB-API database driver and a SQLAlchemy
dialect to be installed for each datastore you want to connect to.</p>
<p>You can read more <a href="/docs/databases/docker-add-drivers">here</a> about how to
install new database drivers into your Feris configuration.</p>
<h3 id="supported-databases-and-dependencies">Supported Databases and Dependencies</h3>
<p>Feris does not ship bundled with connectivity to databases, except for SQLite,
which is part of the Python standard library. You’ll need to install the required packages for the database you want to use as your metadata database as well as the packages needed to connect to the databases you want to access through Feris.</p>
<p>A list of some of the recommended packages.</p>
<table>
<thead>
<tr>
<th>Database</th>
<th>PyPI package</th>
<th>Connection String</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/docs/databases/athena">Amazon Athena</a></td>
<td><code>pip install &quot;PyAthenaJDBC&gt;1.0.9</code> , <code>pip install &quot;PyAthena&gt;1.2.0</code></td>
<td><code>awsathena+rest://{aws_access_key_id}:{aws_secret_access_key}@athena.{region_name}.amazonaws.com/{ </code></td>
</tr>
<tr>
<td><a href="/docs/databases/redshift">Amazon Redshift</a></td>
<td><code>pip install sqlalchemy-redshift</code></td>
<td><code> redshift+psycopg2://&lt;userName&gt;:&lt;DBPassword&gt;@&lt;AWS End Point&gt;:5439/&lt;Database Name&gt;</code></td>
</tr>
<tr>
<td><a href="/docs/databases/drill">Apache Drill</a></td>
<td><code>pip install sqlalchemy-drill</code></td>
<td><code>drill+sadrill:// For JDBC drill+jdbc://</code></td>
</tr>
<tr>
<td><a href="/docs/databases/druid">Apache Druid</a></td>
<td><code>pip install pydruid</code></td>
<td><code>druid://&lt;User&gt;:&lt;password&gt;@&lt;Host&gt;:&lt;Port-default-9088&gt;/druid/v2/sql</code></td>
</tr>
<tr>
<td><a href="/docs/databases/hive">Apache Hive</a></td>
<td><code>pip install pyhive</code></td>
<td><code>hive://hive@{hostname}:{port}/{database}</code></td>
</tr>
<tr>
<td><a href="/docs/databases/impala">Apache Impala</a></td>
<td><code>pip install impyla</code></td>
<td><code>impala://{hostname}:{port}/{database}</code></td>
</tr>
<tr>
<td><a href="/docs/databases/kylin">Apache Kylin</a></td>
<td><code>pip install kylinpy</code></td>
<td><code>kylin://&lt;username&gt;:&lt;password&gt;@&lt;hostname&gt;:&lt;port&gt;/&lt;project&gt;?&lt;param1&gt;=&lt;value1&gt;&amp;&lt;param2&gt;=&lt;value2&gt;</code></td>
</tr>
<tr>
<td><a href="/docs/databases/pinot">Apache Pinot</a></td>
<td><code>pip install pinotdb</code></td>
<td><code>pinot://BROKER:5436/query?server=http://CONTROLLER:5983/</code></td>
</tr>
<tr>
<td><a href="/docs/databases/solr">Apache Solr</a></td>
<td><code>pip install sqlalchemy-solr</code></td>
<td><code>solr://{username}:{password}@{hostname}:{port}/{server_path}/{collection}</code></td>
</tr>
<tr>
<td><a href="/docs/databases/spark-sql">Apache Spark SQL</a></td>
<td><code>pip install pyhive</code></td>
<td><code>hive://hive@{hostname}:{port}/{database}</code></td>
</tr>
<tr>
<td><a href="/docs/databases/ascend">Ascend.io</a></td>
<td><code>pip install impyla</code></td>
<td><code>ascend://{username}:{password}@{hostname}:{port}/{database}?auth_mechanism=PLAIN;use_ssl=true</code></td>
</tr>
<tr>
<td><a href="/docs/databases/sql-server">Azure MS SQL</a></td>
<td><code>pip install pymssql</code></td>
<td><code>mssql+pymssql://UserName@presetSQL:TestPassword@presetSQL.database.windows.net:1433/TestSchema</code></td>
</tr>
<tr>
<td><a href="/docs/databases/bigquery">Big Query</a></td>
<td><code>pip install pybigquery</code></td>
<td><code>bigquery://{project_id}</code></td>
</tr>
<tr>
<td><a href="/docs/databases/clickhouse">ClickHouse</a></td>
<td><code>pip install clickhouse-driver==0.2.0 &amp;&amp; pip install clickhouse-sqlalchemy==0.1.6</code></td>
<td><code>clickhouse+native://{username}:{password}@{hostname}:{port}/{database}</code></td>
</tr>
<tr>
<td><a href="/docs/databases/cockroachdb">CockroachDB</a></td>
<td><code>pip install cockroachdb</code></td>
<td><code>cockroachdb://root@{hostname}:{port}/{database}?sslmode=disable</code></td>
</tr>
<tr>
<td><a href="/docs/databases/dremio">Dremio</a></td>
<td><code>pip install sqlalchemy_dremio</code></td>
<td><code>dremio://user:pwd@host:31010/</code></td>
</tr>
<tr>
<td><a href="/docs/databases/elasticsearch">Elasticsearch</a></td>
<td><code>pip install elasticsearch-dbapi</code></td>
<td><code>elasticsearch+http://{user}:{password}@{host}:9200/</code></td>
</tr>
<tr>
<td><a href="/docs/databases/exasol">Exasol</a></td>
<td><code>pip install sqlalchemy-exasol</code></td>
<td><code>exa+pyodbc://{username}:{password}@{hostname}:{port}/my_schema?CONNECTIONLCALL=en_US.UTF-8&amp;driver=EXAODBC</code></td>
</tr>
<tr>
<td><a href="/docs/databases/google-sheets">Google Sheets</a></td>
<td><code>pip install shillelagh[gsheetsapi]</code></td>
<td><code>gsheets://</code></td>
</tr>
<tr>
<td><a href="/docs/databases/firebolt">Firebolt</a></td>
<td><code>pip install firebolt-sqlalchemy</code></td>
<td><code>firebolt://{username}:{password}@{database} or firebolt://{username}:{password}@{database}/{engine_name}</code></td>
</tr>
<tr>
<td><a href="/docs/databases/hologres">Hologres</a></td>
<td><code>pip install psycopg2</code></td>
<td><code>postgresql+psycopg2://&lt;UserName&gt;:&lt;DBPassword&gt;@&lt;Database Host&gt;/&lt;Database Name&gt;</code></td>
</tr>
<tr>
<td><a href="/docs/databases/ibm-db2">IBM Db2</a></td>
<td><code>pip install ibm_db_sa</code></td>
<td><code>db2+ibm_db://</code></td>
</tr>
<tr>
<td><a href="/docs/databases/netezza">IBM Netezza Performance Server</a></td>
<td><code>pip install nzalchemy</code></td>
<td><code>netezza+nzpy://&lt;UserName&gt;:&lt;DBPassword&gt;@&lt;Database Host&gt;/&lt;Database Name&gt;</code></td>
</tr>
<tr>
<td><a href="/docs/databases/mysql">MySQL</a></td>
<td><code>pip install mysqlclient</code></td>
<td><code>mysql://&lt;UserName&gt;:&lt;DBPassword&gt;@&lt;Database Host&gt;/&lt;Database Name&gt;</code></td>
</tr>
<tr>
<td><a href="/docs/databases/oracle">Oracle</a></td>
<td><code>pip install cx_Oracle</code></td>
<td><code>oracle://</code></td>
</tr>
<tr>
<td><a href="/docs/databases/postgres">PostgreSQL</a></td>
<td><code>pip install psycopg2</code></td>
<td><code>postgresql://&lt;UserName&gt;:&lt;DBPassword&gt;@&lt;Database Host&gt;/&lt;Database Name&gt;</code></td>
</tr>
<tr>
<td><a href="/docs/databases/trino">Trino</a></td>
<td><code>pip install sqlalchemy-trino</code></td>
<td><code>trino://{username}:{password}@{hostname}:{port}/{catalog}</code></td>
</tr>
<tr>
<td><a href="/docs/databases/presto">Presto</a></td>
<td><code>pip install pyhive</code></td>
<td><code>presto://</code></td>
</tr>
<tr>
<td><a href="/docs/databases/hana">SAP Hana</a></td>
<td><code>pip install hdbcli sqlalchemy-hana or pip install apache-Feris[hana]</code></td>
<td><code>hana://{username}:{password}@{host}:{port}</code></td>
</tr>
<tr>
<td><a href="/docs/databases/snowflake">Snowflake</a></td>
<td><code>pip install snowflake-sqlalchemy</code></td>
<td><code>snowflake://{user}:{password}@{account}.{region}/{database}?role={role}&amp;warehouse={warehouse}</code></td>
</tr>
<tr>
<td>SQLite</td>
<td>No additional library needed</td>
<td><code>sqlite://</code></td>
</tr>
<tr>
<td><a href="/docs/databases/sql-server">SQL Server</a></td>
<td><code>pip install pymssql</code></td>
<td><code>mssql://</code></td>
</tr>
<tr>
<td><a href="/docs/databases/teradata">Teradata</a></td>
<td><code>pip install teradatasqlalchemy </code></td>
<td><code>teradata://{user}:{password}@{host}</code></td>
</tr>
<tr>
<td><a href="/docs/databases/vertica">Vertica</a></td>
<td><code>pip install sqlalchemy-vertica-python</code></td>
<td><code>vertica+vertica_python://&lt;UserName&gt;:&lt;DBPassword&gt;@&lt;Database Host&gt;/&lt;Database Name&gt;</code></td>
</tr>
<tr>
<td><a href="/docs/databases/yugabytedb">YugabyteDB</a></td>
<td><code>pip install psycopg2</code></td>
<td><code>postgresql://&lt;UserName&gt;:&lt;DBPassword&gt;@&lt;Database Host&gt;/&lt;Database Name&gt;</code></td>
</tr>
</tbody>
</table>
<hr>
<p>Note that many other databases are supported, the main criteria being the existence of a functional
SQLAlchemy dialect and Python driver. Searching for the keyword &ldquo;sqlalchemy + (database name)&rdquo;
should help get you to the right place.</p>
<p>If your database or data engine isn&rsquo;t on the list but a SQL interface
exists, please file an issue on the
<a href="https://github.com/apache/Feris/issues">Feris GitHub repo</a>, so we can work on documenting and
supporting it.</p>
<p>If you&rsquo;d like to build a database connector for Feris integration,
read the <a href="https://preset.io/blog/building-database-connector/">following tutorial</a>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-24a54ac44c59d7d6190abb9b6492ac2c">4 - Using Database Connection UI</h1>
    
	<p>Here is the documentation on how to leverage the new DB Connection UI. This will provide admins the ability to enhance the UX for users who want to connect to new databases.</p>
<p><img src="https://user-images.githubusercontent.com/27827808/125499607-94e300aa-1c0f-4c60-b199-3f9de41060a3.gif" alt="db-conn-docs"></p>
<p>There are now 3 steps when connecting to a database in the new UI:</p>
<p>Step 1: First the admin must inform Feris what engine they want to connect to. This page is powered by the <code>/available</code> endpoint which pulls on the engines currently installed in your environment, so that only supported databases are shown.</p>
<p>Step 2: Next, the admin is prompted to enter database specific parameters. Depending on whether there is a dynamic form available for that specific engine, the admin will either see the new custom form or the legacy SQLAlchemy form. We currently have built dynamic forms for (Redshift, MySQL, Postgres, and BigQuery). The new form prompts the user for the parameters needed to connect (for example, username, password, host, port, etc.) and provides immediate feedback on errors.</p>
<p>Step 3: Finally, once the admin has connected to their DB using the dynamic form they have the opportunity to update any optional advanced settings.</p>
<p>We hope this feature will help eliminate a huge bottleneck for users to get into the application and start crafting datasets.</p>
<h3 id="how-to-setup-up-preferred-database-options-and-images">How to setup up preferred database options and images</h3>
<p>We added a new configuration option where the admin can define their preferred databases, in order:</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># A list of preferred databases, in order. These databases will be</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># displayed prominently in the &#34;Add Database&#34; dialog. You should</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># use the &#34;engine_name&#34; attribute of the corresponding DB engine spec</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># in `Feris/db_engine_specs/`.</span>
</span></span><span style="display:flex;"><span>PREFERRED_DATABASES: List[str] <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;PostgreSQL&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Presto&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;MySQL&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;SQLite&#34;</span>,
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></td></tr></table>
</div>
</div><p>For copyright reasons the logos for each database are not distributed with Feris.</p>
<h3 id="setting-images">Setting images</h3>
<ul>
<li>To set the images of your preferred database, admins must create a mapping in the <code>Feris_text.yml</code> file with engine and location of the image. The image can be host locally inside your static/file directory or online (e.g. S3)</li>
</ul>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>DB_IMAGES:
</span></span><span style="display:flex;"><span>  postgresql: <span style="color:#e6db74">&#34;path/to/image/postgres.jpg&#34;</span>
</span></span><span style="display:flex;"><span>  bigquery: <span style="color:#e6db74">&#34;path/to/s3bucket/bigquery.jpg&#34;</span>
</span></span><span style="display:flex;"><span>  snowflake: <span style="color:#e6db74">&#34;path/to/image/snowflake.jpg&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="how-to-add-new-database-engines-to-available-endpoint">How to add new database engines to available endpoint</h3>
<p>Currently the new modal supports the following databases:</p>
<ul>
<li>Postgres</li>
<li>Redshift</li>
<li>MySQL</li>
<li>BigQuery</li>
</ul>
<p>When the user selects a database not in this list they will see the old dialog asking for the SQLAlchemy URI. New databases can be added gradually to the new flow. In order to support the rich configuration a DB engine spec needs to have the following attributes:</p>
<ol>
<li><code>parameters_schema</code>: a Marshmallow schema defining the parameters needed to configure the database. For Postgres this includes username, password, host, port, etc. (<a href="https://github.com/apache/Feris/blob/accee507c0819cd0d7bcfb5a3e1199bc81eeebf2/Feris/db_engine_specs/base.py#L1309-L1320">see</a>).</li>
<li><code>default_driver</code>: the name of the recommended driver for the DB engine spec. Many SQLAlchemy dialects support multiple drivers, but usually one is the official recommendation. For Postgres we use &ldquo;psycopg2&rdquo;.</li>
<li><code>sqlalchemy_uri_placeholder</code>: a string that helps the user in case they want to type the URI directly.</li>
<li><code>encryption_parameters</code>: parameters used to build the URI when the user opts for an encrypted connection. For Postgres this is <code>{&quot;sslmode&quot;: &quot;require&quot;}</code>.</li>
</ol>
<p>In addition, the DB engine spec must implement these class methods:</p>
<ul>
<li><code>build_sqlalchemy_uri(cls, parameters, encrypted_extra)</code>: this method receives the distinct parameters and builds the URI from them.</li>
<li><code>get_parameters_from_uri(cls, uri, encrypted_extra)</code>: this method does the opposite, extracting the parameters from a given URI.</li>
<li><code>validate_parameters(cls, parameters)</code>: this method is used for <code>onBlur</code> validation of the form. It should return a list of <code>FerisError</code> indicating which parameters are missing, and which parameters are definitely incorrect (<a href="https://github.com/apache/Feris/blob/accee507c0819cd0d7bcfb5a3e1199bc81eeebf2/Feris/db_engine_specs/base.py#L1404">example</a>).</li>
</ul>
<p>For databases like MySQL and Postgres that use the standard format of <code>engine+driver://user:password@host:port/dbname</code> all you need to do is add the <code>BasicParametersMixin</code> to the DB engine spec, and then define the parameters 2-4 (<code>parameters_schema</code> is already present in the mixin).</p>
<p>For other databases you need to implement these methods yourself. The BigQuery DB engine spec is a good example of how to do that.</p>

</div>



    
	
  



          </main>
        </div>
      </div>
      


<link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
<script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>
<script type="text/javascript">window.onload = function() { Calendly.initBadgeWidget({ url: 'https://calendly.com/ferris-demo', text: 'Book a Ferris Demo', color: '#ffa630', textColor: '#ffffff', branding: true }); }</script>


<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="container">
      <div class="row">
        
          
            
  
    <div class="col-4 text-left order-sm-2">
        <a class="text-white" target="_blank" rel="noopener" href="https://gridmine.com/about" aria-label="User mailing list">
          <i class="fa fa-envelope"></i>
        </a>
    </div>
  
    <div class="col-4 text-left order-sm-2">
        <a class="text-white" target="_blank" rel="noopener" href="https://www.linkedin.com/company/gridmine/" aria-label="Linkedin">
          <i class="fab fa-linkedin"></i>
        </a>
    </div>
  
    <div class="col-4 text-left order-sm-2">
        <a class="text-white" target="_blank" rel="noopener" href="https://github.com/gridmine" aria-label="GitHub">
          <i class="fab fa-github"></i>
        </a>
    </div>
  

          
        
        
      </div>
      <div class="row mt-3">
        <div class="col-4 text-left order-sm-2">
          
            
              
  
    <p>
      <a class="text-white" target="" rel="noopener" href="/about" aria-label="About Us">
        About Us
      </a>
    </p>
  
    <p>
      <a class="text-white" target="" rel="noopener" href="/contact" aria-label="Contact Us">
        Contact Us
      </a>
    </p>
  
    <p>
      <a class="text-white" target="" rel="noopener" href="/jobs" aria-label="Jobs">
        Jobs
      </a>
    </p>
  
    <p>
      <a class="text-white" target="" rel="noopener" href="/partners" aria-label="Partners">
        Partners
      </a>
    </p>
  

            
          
        </div>
        <div class="col-4 text-left order-sm-2">
          
            
              
  
    <p>
      <a class="text-white" target="_blank" rel="noopener" href="https://www.linkedin.com/company/gridmine/" aria-label="Linkedin">
        Linkedin
      </a>
    </p>
  
    <p>
      <a class="text-white" target="_blank" rel="noopener" href="https://twitter.com/gridmine" aria-label="Twitter">
        Twitter
      </a>
    </p>
  
    <p>
      <a class="text-white" target="_blank" rel="noopener" href="https://www.youtube.com/channel/UC5miURXVxGLo17EyWPBWCug" aria-label="YouTube">
        YouTube
      </a>
    </p>
  

            
          
        </div>
        <div class="col-4 text-left order-sm-2">
          
            
              
  
    <p>
      <a class="text-white" target="_blank" rel="noopener" href="https://github.com/gridmine/" aria-label="GitHub Source Code">
        GitHub Source Code
      </a>
    </p>
  
    <p>
      <a class="text-white" target="_blank" rel="noopener" href="/docs/terms_conditions" aria-label="General Terms and Conditions (GTC)">
        General Terms and Conditions (GTC)
      </a>
    </p>
  
    <p>
      <a class="text-white" target="_blank" rel="noopener" href="/docs/privacy_policy" aria-label="Data protection policy">
        Data protection policy
      </a>
    </p>
  
    <p>
      <a class="text-white" target="" rel="noopener" href="/impressum" aria-label="Impressum">
        Impressum
      </a>
    </p>
  

            
          
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-12 text-center py-2 order-sm-2">
          
            <small class="text-white">&copy; 2023 FERRIS LABS AG All Rights Reserved</small>
          
          
        </div>
      </div>
    </div>
  </div>
</footer>



    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>





<script src='/js/tabpane-persist.js'></script>




 












<script src="/js/main.min.3f3f4f1e22307ccbb13271a98be2e4dbb8386b7e67c3d606db44d3d0649f485e.js" integrity="sha256-Pz9PHiIwfMuxMnGpi&#43;Lk27g4a35nw9YG20TT0GSfSF4=" crossorigin="anonymous"></script>




  </body>
</html>
